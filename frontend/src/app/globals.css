﻿/* Promagen Global Styles — single source of truth
   - Tailwind import (v4-friendly)
   - Light, calm gradient background
   - Reduced motion hook
   - Accessible focus outline (no @apply)
   - Card utility + tabular numerals
   - Ribbon shimmer utility

   Enhancements (FX “alive” language):
   - Winner arrow micro-transition
   - Neutral breath pulse (slow, subtle)
   - Tick nudge (1–2px)
   - Whisper tint (very faint, 200–300ms)
*/
@import 'tailwindcss';

/* ------------------------------ Base tokens ------------------------------ */
:root {
  --bg-a: #f9fafb; /* slate-50 */
  --bg-b: #e5e7eb; /* slate-200 */

  --bg-east: #fef3c7; /* amber-100 */
  --bg-mid: #e5e7eb; /* slate-200 */
  --bg-west: #0f172a; /* slate-900 */

  --focus: #38bdf8; /* sky-400 */
}

/* Respect users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  * {
    scroll-behavior: auto !important;
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ------------------------------ Document baseline ------------------------ */
html,
body {
  min-height: 100%;
}

body {
  margin: 0;
  background: linear-gradient(115deg, var(--bg-east) 0%, var(--bg-mid) 45%, var(--bg-west) 100%);
  color: #020617; /* slate-950 */
  color-scheme: light;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  text-rendering: optimizeLegibility;
}

/* ------------------------------ Links & focus ---------------------------- */
a {
  color: inherit;
  text-decoration-thickness: 0.08em;
  text-underline-offset: 0.18em;
}

a:hover {
  text-decoration-thickness: 0.12em;
}

:where(a, button, input, textarea, select):focus-visible {
  outline: 2px solid var(--focus);
  outline-offset: 2px;
}

/* ------------------------------ Card utility ----------------------------- */
.card {
  border-radius: 1rem;
  border: 1px solid rgba(15, 23, 42, 0.06);
  background: rgba(255, 255, 255, 0.9);
  box-shadow: 0 10px 25px rgba(15, 23, 42, 0.08);
}

/* --------------------------- Tabular numerals ---------------------------- */
.tabular-nums {
  font-variant-numeric: tabular-nums;
  font-feature-settings: 'tnum';
}

/* ------------------------ Ribbon shimmer (calm) -------------------------- */
@keyframes ribbon-shimmer {
  0% {
    transform: translateX(-30%);
    opacity: 0.7;
  }
  50% {
    transform: translateX(0%);
    opacity: 1;
  }
  100% {
    transform: translateX(30%);
    opacity: 0.7;
  }
}

.animate-ribbon-shimmer {
  animation: ribbon-shimmer 180s linear infinite;
}

/* ======================================================================== */
/* FX “alive” micro-motion                                                   */
/* ======================================================================== */

/* Winner arrow — single green arrow with micro fade */
.fx-winner-arrow {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 0.9em; /* keeps spacing stable */
  color: rgba(52, 211, 153, 0.95); /* emerald-ish */
  transform: translateY(-0.04em);
  transition: opacity 220ms ease;
  will-change: opacity;
}

.fx-winner-arrow--off {
  opacity: 0;
}

.fx-winner-arrow--on {
  opacity: 1;
}

/* Neutral breath pulse (slow, tiny) */
@keyframes fx-neutral-breathe {
  0% {
    opacity: 0.9;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0.9;
  }
}

.fx-neutral-breathe {
  animation: fx-neutral-breathe 8s ease-in-out infinite;
}

/* Tick nudge: tiny move, terminal-like */
@keyframes fx-tick-up {
  0% {
    transform: translateY(1px);
  }
  100% {
    transform: translateY(0px);
  }
}

@keyframes fx-tick-down {
  0% {
    transform: translateY(-1px);
  }
  100% {
    transform: translateY(0px);
  }
}

.fx-tick-up {
  animation: fx-tick-up 180ms ease-out 1;
}

.fx-tick-down {
  animation: fx-tick-down 180ms ease-out 1;
}

.fx-tick-flat {
  /* no animation */
}

/* Whisper tint: very faint flash behind the price, fades quickly */
@keyframes fx-whisper-up {
  0% {
    box-shadow: 0 0 0 0 rgba(16, 185, 129, 0);
  }
  35% {
    box-shadow: 0 0 0 6px rgba(16, 185, 129, 0.08);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(16, 185, 129, 0);
  }
}

@keyframes fx-whisper-down {
  0% {
    box-shadow: 0 0 0 0 rgba(248, 113, 113, 0);
  }
  35% {
    box-shadow: 0 0 0 6px rgba(248, 113, 113, 0.08);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(248, 113, 113, 0);
  }
}

.fx-price {
  border-radius: 0.4rem;
  padding: 0 0.15rem;
}

.fx-whisper-up {
  animation: fx-whisper-up 260ms ease-out 1;
}

.fx-whisper-down {
  animation: fx-whisper-down 260ms ease-out 1;
}
