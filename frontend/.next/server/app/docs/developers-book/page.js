(()=>{var e={};e.id=17,e.ids=[17],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7251:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>c,routeModule:()=>h,tree:()=>d}),r(9553),r(394),r(1956),r(5133);var t=r(9193),n=r(1854),o=r(3997),i=r.n(o),l=r(3320),a={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>l[e]);r.d(s,a);let d=["",{children:["docs",{children:["developers-book",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9553)),"C:\\Users\\Proma\\Projects\\promagen\\frontend\\app\\docs\\developers-book\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,394)),"C:\\Users\\Proma\\Projects\\promagen\\frontend\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,1956)),"C:\\Users\\Proma\\Projects\\promagen\\frontend\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5133,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Proma\\Projects\\promagen\\frontend\\app\\docs\\developers-book\\page.tsx"],p="/docs/developers-book/page",x={require:r,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/docs/developers-book/page",pathname:"/docs/developers-book",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5147:(e,s,r)=>{Promise.resolve().then(r.bind(r,4346))},9683:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,9388,23)),Promise.resolve().then(r.t.bind(r,1152,23)),Promise.resolve().then(r.t.bind(r,2764,23)),Promise.resolve().then(r.t.bind(r,6894,23)),Promise.resolve().then(r.t.bind(r,3299,23)),Promise.resolve().then(r.t.bind(r,184,23))},4772:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,1652,23))},1758:()=>{},4346:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>n});var t=r(7486);function n({error:e,reset:s}){return t.jsx("html",{children:(0,t.jsxs)("body",{style:{fontFamily:"system-ui",padding:24},children:[t.jsx("h1",{style:{fontSize:18,fontWeight:600,marginBottom:8},children:"Something went sideways."}),(0,t.jsxs)("p",{style:{color:"#666",marginBottom:16},children:[e.message||"Unknown error"," ",e?.digest?`(digest: ${e.digest})`:""]}),t.jsx("button",{onClick:()=>s(),style:{border:"1px solid #ccc",padding:"6px 10px",borderRadius:6},children:"Try again"})]})})}},9553:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>n});var t=r(9703);function n(){return(0,t.jsxs)("main",{className:"max-w-4xl mx-auto px-6 py-10",children:[t.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Developers Book"}),t.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"Ground truth for Promagen’s architecture, workflows, and upgrade path. This page reflects the current repo state."}),(0,t.jsxs)("section",{className:"space-y-4 mb-10",children:[t.jsx("h2",{className:"text-xl font-semibold",children:"0) Fundamentals (do not drift)"}),(0,t.jsxs)("ul",{className:"list-disc pl-6 space-y-1",children:[(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"Next.js App Router only"})," (no Pages Router)."]}),(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"Homepage vision"}),": two boards on one screen — ProvidersBoard & ExchangeBoard (Stage-1)."]}),(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"Option A → Option B"}),": start with local/canonical data + light route handlers; upgrade to a full API with typed endpoints and secret handling."]}),(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"Affiliate-safe UX"}),": disclaimers, “Best right now” badges, no dark patterns."]}),(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"Design pulses"}),": rank-change pulses, minute-tick shimmer, sunrise ordering, bells on open/close."]})]})]}),(0,t.jsxs)("section",{className:"space-y-3 mb-10",children:[t.jsx("h2",{className:"text-xl font-semibold",children:"1) Monorepo layout (current reality)"}),t.jsx("pre",{className:"bg-gray-950 text-gray-100 p-4 rounded-lg text-sm overflow-x-auto",children:String.raw`promagen/
  frontend/
    app/                 # App Router routes & route handlers
      api/health/route.ts
      api/world-clocks/route.ts
      docs/developers-book/page.tsx
      docs/users-book/page.tsx
      health-check/page.tsx
      settings/keys/page.tsx
      status/page.tsx
      layout.tsx
      page.tsx
      error.tsx
      globals.css
    components/
      ui/{badge,button,card,input}.tsx
      health/{HealthBanner,HealthContext}.tsx
      {CopyButton,CreditsBanner,LanguageSwitcher,Leaderboard,LiveChip,
       PlatformLiveDrawer,PromagenMVP,ProviderCard,ProviderCountryChips,
       RequestIdCopy,StockTicker,WorldClocks}.tsx
    # assets: frontend/public/  (not present yet)
    # styling: Tailwind config (not present); CSS/PostCSS in use

  api/
    src/                 # backend server code (present in extra seed)
    prisma/
      schema.prisma
      migrations/...     # migration files (lock + sql)

  .github/workflows/     # api.yml, api-ci.yml, api-deploy.yml, frontend.yml, frontend-ci.yml, lint.yml
`})]}),(0,t.jsxs)("section",{className:"space-y-2 mb-10",children:[t.jsx("h2",{className:"text-xl font-semibold",children:"2) Frontend routing map"}),(0,t.jsxs)("ul",{className:"list-disc pl-6 space-y-1",children:[(0,t.jsxs)("li",{children:[t.jsx("code",{children:"/"})," → ",t.jsx("code",{children:"app/page.tsx"})]}),(0,t.jsxs)("li",{children:[t.jsx("code",{children:"/status"})," → ",t.jsx("code",{children:"app/status/page.tsx"})]}),(0,t.jsxs)("li",{children:[t.jsx("code",{children:"/health-check"})," → ",t.jsx("code",{children:"app/health-check/page.tsx"})]}),(0,t.jsxs)("li",{children:[t.jsx("code",{children:"/settings/keys"})," → ",t.jsx("code",{children:"app/settings/keys/page.tsx"})]}),(0,t.jsxs)("li",{children:[t.jsx("code",{children:"/docs/developers-book"})," → ",t.jsx("code",{children:"app/docs/developers-book/page.tsx"})]}),(0,t.jsxs)("li",{children:[t.jsx("code",{children:"/docs/users-book"})," → ",t.jsx("code",{children:"app/docs/users-book/page.tsx"})]}),(0,t.jsxs)("li",{children:["API route handlers:",(0,t.jsxs)("ul",{className:"list-disc pl-6",children:[(0,t.jsxs)("li",{children:[t.jsx("code",{children:"GET /api/health"})," → ",t.jsx("code",{children:"app/api/health/route.ts"})]}),(0,t.jsxs)("li",{children:[t.jsx("code",{children:"GET /api/world-clocks"})," → ",t.jsx("code",{children:"app/api/world-clocks/route.ts"})]})]})]})]})]}),(0,t.jsxs)("section",{className:"space-y-2 mb-10",children:[t.jsx("h2",{className:"text-xl font-semibold",children:"3) Components (key sets)"}),(0,t.jsxs)("ul",{className:"list-disc pl-6 space-y-1",children:[(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"UI primitives"}),": Badge, Button, Card, Input (shadcn-style)."]}),(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"System/UX"}),": HealthBanner / HealthContext, WorldClocks, CopyButton, RequestIdCopy."]}),(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"Boards scaffolding"}),": Leaderboard, ProviderCard, ProviderCountryChips, LiveChip, PlatformLiveDrawer, PromagenMVP, StockTicker."]})]})]}),(0,t.jsxs)("section",{className:"space-y-2 mb-10",children:[t.jsx("h2",{className:"text-xl font-semibold",children:"4) Adapters (current placement & recommendation)"}),(0,t.jsxs)("p",{children:["Adapter files exist for many image providers under ",t.jsx("code",{children:"app/adapters/*"})," (OpenAI, Stability, Midjourney, Runway, Leonardo, Firefly, etc.)."]}),(0,t.jsxs)("p",{className:"mt-2",children:[t.jsx("strong",{children:"Recommendation:"})," move to ",t.jsx("code",{children:"frontend/lib/adapters/*"})," and import via ",t.jsx("code",{children:"@/lib/adapters/*"})," to keep ",t.jsx("code",{children:"app/"})," purely routes."]}),t.jsx("pre",{className:"bg-gray-950 text-gray-100 p-4 rounded-lg text-sm overflow-x-auto",children:String.raw`// Example import after move:
import { generate } from '@/lib/adapters/openai'`})]}),(0,t.jsxs)("section",{className:"space-y-2 mb-10",children:[t.jsx("h2",{className:"text-xl font-semibold",children:"5) Styling & assets"}),(0,t.jsxs)("ul",{className:"list-disc pl-6 space-y-1",children:[(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"Present:"})," ",t.jsx("code",{children:"app/globals.css"}),", ",t.jsx("code",{children:"postcss.config.cjs"}),"."]}),(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"Not configured:"})," Tailwind config (",t.jsx("code",{children:"tailwind.config.*"})," ","absent). Proceed CSS-only for now."]}),(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"Assets:"})," ",t.jsx("code",{children:"frontend/public/"})," not present yet. Add icons/images/audio when ready; no redesign required."]})]})]}),(0,t.jsxs)("section",{className:"space-y-2 mb-10",children:[t.jsx("h2",{className:"text-xl font-semibold",children:"6) Backend & data model (Prisma/PostgreSQL)"}),(0,t.jsxs)("ul",{className:"list-disc pl-6 space-y-1",children:[(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"DB:"})," PostgreSQL."]}),(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"Entities:"})," ",t.jsx("code",{children:"User"})," (unique ",t.jsx("code",{children:"email"}),"),"," ",t.jsx("code",{children:"Key"})," (FK→User), ",t.jsx("code",{children:"Metric"}),", ",t.jsx("code",{children:"Score"}),","," ",t.jsx("code",{children:"Override"}),"."]}),(0,t.jsxs)("li",{children:[t.jsx("strong",{children:"Enum Provider"}),": 20 platforms (OpenAI, Stability, Leonardo, DeepAI, NightCafe, Bing, Google, Midjourney, Runway, Fotor, and more)."]})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Full ",t.jsx("code",{children:"api/src/**"})," routes will be documented here when included in the next seed."]})]}),(0,t.jsxs)("section",{className:"space-y-2 mb-10",children:[t.jsx("h2",{className:"text-xl font-semibold",children:"7) Environment & secrets"}),t.jsx("pre",{className:"bg-gray-950 text-gray-100 p-4 rounded-lg text-sm overflow-x-auto",children:String.raw`# frontend/.env.local (if needed)
NEXT_PUBLIC_API_BASE=http://localhost:4000

# api/.env
PORT=4000
DATABASE_URL=postgres://user:pass@localhost:5432/promagen
OPENAI_API_KEY=sk-***`}),(0,t.jsxs)("p",{className:"text-sm",children:["Commit ",t.jsx("code",{children:".env.example"}),"; never commit real ",t.jsx("code",{children:".env"})," files."]})]}),(0,t.jsxs)("section",{className:"space-y-2 mb-10",children:[t.jsx("h2",{className:"text-xl font-semibold",children:"8) Dev & CI quickstart"}),t.jsx("pre",{className:"bg-gray-950 text-gray-100 p-4 rounded-lg text-sm overflow-x-auto",children:String.raw`# Frontend
cd frontend
pnpm install
pnpm run dev  # http://localhost:3000

# Backend
cd ../api
pnpm install
# npx prisma generate
# npx tsx src/index.ts  (or: pnpm run dev, if script exists)`}),(0,t.jsxs)("p",{children:["Workflows present: ",t.jsx("code",{children:"frontend(-ci).yml"}),", ",t.jsx("code",{children:"api(-ci/-deploy).yml"}),","," ",t.jsx("code",{children:"lint.yml"}),"."]})]}),(0,t.jsxs)("section",{className:"space-y-2",children:[t.jsx("h2",{className:"text-xl font-semibold",children:"9) Option A → Option B"}),(0,t.jsxs)("ol",{className:"list-decimal pl-6 space-y-1",children:[t.jsx("li",{children:"Keep Option A running: local/canonical data + minimal route handlers."}),t.jsx("li",{children:"Promote adapters into the API as services (hide keys; add typed endpoints)."}),(0,t.jsxs)("li",{children:["Create ",t.jsx("code",{children:"frontend/lib/dataGateway.ts"})," and consume the API."]}),(0,t.jsxs)("li",{children:["Add ",t.jsx("code",{children:"public/"})," assets for audio/icons; wire “minute-tick” shimmer and bells."]}),t.jsx("li",{children:"Add affiliate ribbons & disclaimers as a shared component."})]})]})]})}},1956:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>i,__esModule:()=>o,default:()=>l});var t=r(2334);let n=(0,t.createProxy)(String.raw`C:\Users\Proma\Projects\promagen\frontend\app\error.tsx`),{__esModule:o,$$typeof:i}=n;n.default;let l=(0,t.createProxy)(String.raw`C:\Users\Proma\Projects\promagen\frontend\app\error.tsx#default`)},394:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>i,metadata:()=>o});var t=r(9703),n=r(428);let o={title:"Promagen"};function i({children:e}){return t.jsx("html",{lang:"en",children:(0,t.jsxs)("body",{style:{fontFamily:"system-ui, sans-serif",padding:24},children:[(0,t.jsxs)("nav",{style:{marginBottom:16},children:[t.jsx(n.default,{href:"/",style:{marginRight:12},children:"Home"}),t.jsx(n.default,{href:"/settings/keys",children:"Settings → Keys"})]}),e]})})}}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[160,789],()=>r(7251));module.exports=t})();